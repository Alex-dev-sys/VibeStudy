# üìä –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ Telegram –±–æ—Ç–∞ VibeStudy

## üéØ –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:** VibeStudy Telegram Bot  
**–¢–∏–ø:** Telegram –±–æ—Ç –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é  
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Next.js 14 API Routes (Serverless)  
**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** Supabase (PostgreSQL)  
**–•–æ—Å—Ç–∏–Ω–≥:** Vercel (Serverless) –∏–ª–∏ VPS  

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
Telegram Bot API
    ‚Üì (HTTPS POST webhook)
/api/telegram/webhook (Next.js Route)
    ‚îú‚îÄ Rate Limiting (30 req/min/user)
    ‚îú‚îÄ Input Sanitization (XSS protection)
    ‚îú‚îÄ Webhook Verification (secret token)
    ‚îî‚îÄ Metrics Tracking
    ‚Üì
BotController (bot-controller.ts)
    ‚îú‚îÄ Message Router
    ‚îú‚îÄ Command Handler
    ‚îú‚îÄ Callback Handler
    ‚îî‚îÄ Voice Handler
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Commands   ‚îÇ  Services   ‚îÇ  Database   ‚îÇ
‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ
‚îÇ /start      ‚îÇ Reminders   ‚îÇ Profiles    ‚îÇ
‚îÇ /stats      ‚îÇ Analytics   ‚îÇ Messages    ‚îÇ
‚îÇ /run        ‚îÇ AI Client   ‚îÇ Analytics   ‚îÇ
‚îÇ /ask        ‚îÇ Leaderboard ‚îÇ Reminders   ‚îÇ
‚îÇ ...         ‚îÇ Quests      ‚îÇ ...         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **Webhook Endpoint** (`src/app/api/telegram/webhook/route.ts`)
- **–§—É–Ω–∫—Ü–∏—è:** –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook secret token
  - ‚úÖ Rate limiting (30 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - ‚úÖ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (XSS –∑–∞—â–∏—Ç–∞)
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç Telegram)
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - Health monitoring

#### 2. **Bot Controller** (`src/lib/telegram/bot-controller.ts`)
- **–†–æ–ª—å:** –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–∫–æ–º–∞–Ω–¥—ã/—Ç–µ–∫—Å—Ç/–≥–æ–ª–æ—Å/callbacks)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### 3. **Database Layer** (`src/lib/telegram/database.ts`)
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
  - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ AI –≤–æ–ø—Ä–æ—Å–æ–≤
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤

#### 4. **Commands** (`src/lib/telegram/commands/`)
**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `/start` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- `/help` - –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- `/menu` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/stats` - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `/progress` - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –¥–Ω—è–º
- `/topics` - –ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ –ø–æ —Ç–µ–º–∞–º
- `/ask [–≤–æ–ø—Ä–æ—Å]` - –í–æ–ø—Ä–æ—Å AI –ø–æ–º–æ—â–Ω–∏–∫—É
- `/hint [task_id]` - –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –∑–∞–¥–∞—á–∏
- `/advice` - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å–æ–≤–µ—Ç
- `/run [–∫–æ–¥]` - –ó–∞–ø—É—Å–∫ –∫–æ–¥–∞ (7 —è–∑—ã–∫–æ–≤)
- `/challenge` - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≤—ã–∑–æ–≤
- `/plan` - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è
- `/schedule` - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π
- `/predict` - –ü—Ä–æ–≥–Ω–æ–∑ –¥–∞—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- `/remind` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
- `/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
- `/language` - –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ (ru/en)
- `/privacy` - –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ GDPR
- `/export` - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

#### 5. **Services** (`src/lib/telegram/services/`)

**a) Adaptive Reminders** (`adaptive-reminders.ts`)
- –£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –≤—Ä–µ–º–µ–Ω–∏
- –¢–∏–ø—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:
  - `daily_study` - –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
  - `streak_protection` - –ó–∞—â–∏—Ç–∞ —Å–µ—Ä–∏–∏
  - `milestone` - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
  - `weekly_report` - –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
  - `daily_digest` - –£—Ç—Ä–µ–Ω–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –ü–∏–∫–æ–≤—ã—Ö —á–∞—Å–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
  - –í—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- Do-Not-Disturb —Ä–µ–∂–∏–º

**b) Leaderboard** (`leaderboard.ts`)
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ (–≤—Å–µ –≤—Ä–µ–º—è)
- –ù–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
- –†–∞—Å—á–µ—Ç —É—Ä–æ–≤–Ω—è –∏ XP
- –§–æ—Ä–º—É–ª–∞ —É—Ä–æ–≤–Ω—è: `floor(sqrt(tasks_completed / 10))`
- –§–æ—Ä–º—É–ª–∞ XP: `tasks_completed * 10`

**c) Quests** (`quests.ts`)
- ‚ö†Ô∏è **–°—Ç–∞—Ç—É—Å:** Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏)
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥ (XP)

#### 6. **AI Service** (`src/lib/telegram/ai-service.ts`)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GPT Lama API
- –§—É–Ω–∫—Ü–∏–∏:
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
  - –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–¥—Å–∫–∞–∑–æ–∫
  - –ê–Ω–∞–ª–∏–∑ —Å–ª–∞–±—ã—Ö —Ç–µ–º
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (in-memory)
- –õ–∏–º–∏—Ç: 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Fallback –æ—Ç–≤–µ—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ AI

#### 7. **Analytics Engine** (`src/lib/telegram/analytics-engine.ts`)
- –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ–±—É—á–µ–Ω–∏—è
- –ü—Ä–æ–≥–Ω–æ–∑ –¥–∞—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫—É—Ä—Å–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω—è—Ç–∏–π
- –†–∞—Å—á–µ—Ç engagement score
- –í—ã—è–≤–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–æ–≤ —Ä–∏—Å–∫–∞

#### 8. **Voice Handler** (`src/lib/telegram/voice-handler.ts`)
- ‚ö†Ô∏è **–°—Ç–∞—Ç—É—Å:** –ó–∞–≥–ª—É—à–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è: —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–µ—Ä–µ–∑ Whisper API

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase)

### –¢–∞–±–ª–∏—Ü—ã

#### 1. `user_telegram_profiles`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram
**–ü–æ–ª—è:**
- `id` (UUID, PK)
- `user_id` (UUID, FK ‚Üí auth.users)
- `telegram_user_id` (BIGINT, UNIQUE)
- `chat_id` (BIGINT)
- `username`, `first_name`
- `language_code` (default: 'ru')
- `timezone` (default: 'Europe/Moscow')
- `is_active` (BOOLEAN)
- `preferences` (JSONB) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `created_at`, `updated_at`

**–ò–Ω–¥–µ–∫—Å—ã:**
- `idx_telegram_user_id` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ telegram_user_id
- `idx_telegram_user_id_lookup` - –ø–æ–∏—Å–∫ –ø–æ user_id
- `idx_telegram_active_users` - —Ñ–∏–ª—å—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### 2. `reminder_schedules`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
**–ü–æ–ª—è:**
- `id` (UUID, PK)
- `user_id` (UUID, FK)
- `reminder_type` (TEXT) - —Ç–∏–ø –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- `scheduled_time` (TIME)
- `timezone` (TEXT)
- `enabled` (BOOLEAN)
- `adaptive_mode` (BOOLEAN)
- `last_sent_at` (TIMESTAMPTZ)
- `ignore_count` (INTEGER) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
- `response_count` (INTEGER) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- `created_at`, `updated_at`

**–ò–Ω–¥–µ–∫—Å—ã:**
- `idx_reminder_user` - –ø–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `idx_reminder_time` - –ø–æ–∏—Å–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (—Ç–æ–ª—å–∫–æ enabled)
- `idx_reminder_type` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É

#### 3. `telegram_messages`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –õ–æ–≥ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
**–ü–æ–ª—è:**
- `id` (UUID, PK)
- `user_id` (UUID, FK)
- `telegram_user_id` (BIGINT)
- `message_type` (TEXT) - —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è
- `content` (TEXT)
- `metadata` (JSONB) - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `created_at`

**–¢–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π:**
- `user_message` - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `bot_response` - –æ—Ç–≤–µ—Ç –±–æ—Ç–∞
- `reminder` - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
- `notification` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- `system` - —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ò–Ω–¥–µ–∫—Å—ã:**
- `idx_messages_user` - –ø–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `idx_messages_telegram_user` - –ø–æ–∏—Å–∫ –ø–æ telegram_user_id
- `idx_messages_created` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ
- `idx_messages_type` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É

#### 4. `learning_analytics`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è
**–ü–æ–ª—è:**
- `id` (UUID, PK)
- `user_id` (UUID, FK)
- `date` (DATE)
- `study_duration_minutes` (INTEGER)
- `tasks_completed` (INTEGER)
- `tasks_attempted` (INTEGER)
- `session_count` (INTEGER)
- `engagement_score` (DECIMAL) - 0-100
- `weak_topics` (JSONB) - –º–∞—Å—Å–∏–≤ —Å–ª–∞–±—ã—Ö —Ç–µ–º
- `peak_hours` (JSONB) - –º–∞—Å—Å–∏–≤ –ø–∏–∫–æ–≤—ã—Ö —á–∞—Å–æ–≤
- `created_at`, `updated_at`
- UNIQUE(user_id, date)

**–ò–Ω–¥–µ–∫—Å—ã:**
- `idx_analytics_user_date` - –ø–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –¥–∞—Ç–µ
- `idx_analytics_date` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ

#### 5. `bot_conversations`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
**–ü–æ–ª—è:**
- `id` (UUID, PK)
- `user_id` (UUID, FK, UNIQUE)
- `telegram_user_id` (BIGINT)
- `conversation_context` (JSONB) - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- `last_command` (TEXT)
- `last_interaction_at` (TIMESTAMPTZ)
- `created_at`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ conversation_context:**
```json
{
  "waiting_for_input": boolean,
  "expected_input_type": string,
  "current_flow": string,
  "flow_step": number,
  "temp_data": object
}
```

#### 6. `ai_question_tracking`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ AI –≤–æ–ø—Ä–æ—Å–æ–≤
**–ü–æ–ª—è:**
- `id` (UUID, PK)
- `user_id` (UUID, FK)
- `date` (DATE)
- `questions_asked` (INTEGER)
- `questions_remaining` (INTEGER) - –º–∞–∫—Å–∏–º—É–º 10
- `last_question_at` (TIMESTAMPTZ)
- `created_at`, `updated_at`
- UNIQUE(user_id, date)

#### 7. `user_analytics_summary` (Materialized View)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
**–ü–æ–ª—è:**
- `user_id` (UUID, PK)
- `total_days_tracked` (INTEGER)
- `avg_engagement` (DECIMAL)
- `total_study_time` (INTEGER) - –º–∏–Ω—É—Ç—ã
- `total_tasks_completed` (INTEGER)
- `total_tasks_attempted` (INTEGER)
- `last_activity_date` (DATE)

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ß–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `refresh_analytics_summary()` (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ cron)

### RLS (Row Level Security)

–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `auth.uid()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### Helper Functions

1. **`refresh_analytics_summary()`**
   - –û–±–Ω–æ–≤–ª—è–µ—Ç materialized view
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ cron (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —á–∞—Å)

2. **`cleanup_old_messages()`**
   - –£–¥–∞–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ç–∞—Ä—à–µ 90 –¥–Ω–µ–π
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ cron (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ)

3. **`reset_daily_ai_limits()`**
   - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ª–∏–º–∏—Ç—ã AI –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –Ω–æ–≤—ã–π –¥–µ–Ω—å
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ cron (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤ 00:00 UTC)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

‚úÖ **Webhook Verification**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `X-Telegram-Bot-Api-Secret-Token` header
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è: `TELEGRAM_WEBHOOK_SECRET`

‚úÖ **Rate Limiting**
- 30 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- In-memory —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–¥–ª—è single instance)
- ‚ö†Ô∏è –î–ª—è multi-instance –Ω—É–∂–µ–Ω Redis/Supabase

‚úÖ **Input Sanitization**
- –£–¥–∞–ª–µ–Ω–∏–µ HTML —Ç–µ–≥–æ–≤
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ javascript:/data:/vbscript: –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ event handlers (onclick, onerror, etc.)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã (4096 —Å–∏–º–≤–æ–ª–æ–≤)

‚úÖ **RLS Policies**
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã Row Level Security
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ

‚úÖ **Environment Variables**
- –¢–æ–∫–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –†–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è dev/prod

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

‚ö†Ô∏è **Rate Limiting –¥–ª—è multi-instance:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –∏–ª–∏ Supabase –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å (Cloudflare, etc.)

‚ö†Ô∏è **Webhook Secret Rotation:**
- –†–µ–≥—É–ª—è—Ä–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è `TELEGRAM_WEBHOOK_SECRET`
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –ø–µ—Ä–µ—Ä—ã–≤–∞—Ö

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### Health Endpoint

**URL:** `/api/telegram/health` (GET)

**–ú–µ—Ç—Ä–∏–∫–∏:**
- ‚è±Ô∏è Uptime
- üì® Total updates processed
- ‚úÖ Success rate
- ‚ùå Error types
- üìä Popular commands
- üö´ Rate limited requests

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –í—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `telegram_messages`
- –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `logError()`
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ `logWarn()`

---

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. Code Runner (`/run`)

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏:**
- Python
- JavaScript
- TypeScript
- Java
- C++
- Go
- C#

**–§—É–Ω–∫—Ü–∏–∏:**
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–∑ code block
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞ (2000 —Å–∏–º–≤–æ–ª–æ–≤)
- Retry –º–µ—Ö–∞–Ω–∏–∑–º

**API:** `/api/execute-code`

### 2. AI Integration

**–õ–∏–º–∏—Ç—ã:**
- 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (30-60 –º–∏–Ω—É—Ç)
- Fallback –æ—Ç–≤–µ—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- `/ask [–≤–æ–ø—Ä–æ—Å]` - –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/advice` - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
- `/hint [task_id]` - –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∑–∞–¥–∞—á

### 3. Adaptive Reminders

**–ê–ª–≥–æ—Ä–∏—Ç–º –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:**
1. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∏–∫–æ–≤—ã—Ö —á–∞—Å–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
2. –ü–æ–¥—Å—á–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏
4. –£—á–µ—Ç Do-Not-Disturb –ø–µ—Ä–∏–æ–¥–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
- `high` - streak protection, –æ—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ > 3 –¥–Ω–µ–π
- `medium` - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- `low` - —É—Ç—Ä–µ–Ω–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç

### 4. Analytics

**–ú–µ—Ç—Ä–∏–∫–∏:**
- Engagement score (0-100)
- Learning velocity (–¥–Ω–µ–π/–Ω–µ–¥–µ–ª—é)
- Weak topics detection
- Peak hours analysis
- Completion prediction

**–ü—Ä–æ–≥–Ω–æ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
- –£—á–µ—Ç —Ñ–∞–∫—Ç–æ—Ä–æ–≤ —Ä–∏—Å–∫–∞
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ TODO

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ

1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `getUserProgress` –≤ `database.ts`**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `stats.ts` –∏ `adaptive-reminders.ts`
   - –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ `src/lib/supabase/progress.ts`
   - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç

2. **Voice Handler –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω**
   - –¢–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∞
   - **TODO:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Whisper API

3. **Quest Service - Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**
   - –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ë–î
   - **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∫–≤–µ—Å—Ç–æ–≤

### –£–ª—É—á—à–µ–Ω–∏—è

1. **Rate Limiting –¥–ª—è multi-instance**
   - –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è in-memory
   - –ù—É–∂–µ–Ω Redis/Supabase –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

2. **Error Handling**
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –ø–∞–¥–∞—Ç—å –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –£–ª—É—á—à–∏—Ç—å fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

3. **Testing**
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç unit/integration —Ç–µ—Å—Ç—ã
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

4. **Documentation**
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
   - –î–æ–±–∞–≤–∏—Ç—å JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ

- `@supabase/supabase-js` - —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- `next` - Next.js framework
- TypeScript - —Ç–∏–ø–∏–∑–∞—Ü–∏—è

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

- **Telegram Bot API** - –æ—Å–Ω–æ–≤–Ω–æ–π API
- **Supabase** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **GPT Lama API** - AI –ø–æ–º–æ—â–Ω–∏–∫
- **Code Execution API** - –∑–∞–ø—É—Å–∫ –∫–æ–¥–∞

---

## üöÄ –î–µ–ø–ª–æ–π

### –í–∞—Ä–∏–∞–Ω—Ç—ã

1. **Vercel (Serverless)** - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
   - Webhook —á–µ—Ä–µ–∑ HTTPS
   - –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

2. **VPS (Polling)** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
   - –î–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ webhook –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
   - –¢—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
   - –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ RAM (~80-150MB)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- `TELEGRAM_WEBHOOK_SECRET` - —Å–µ–∫—Ä–µ—Ç –¥–ª—è webhook
- `NEXT_PUBLIC_SUPABASE_URL` - URL Supabase
- `SUPABASE_SERVICE_ROLE_KEY` - –∫–ª—é—á Supabase

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
- `NEXT_PUBLIC_SITE_URL` - URL —Å–∞–π—Ç–∞
- `CRON_SECRET` - —Å–µ–∫—Ä–µ—Ç –¥–ª—è cron jobs

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–¥–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/lib/telegram/
‚îú‚îÄ‚îÄ bot-controller.ts (463 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ database.ts (512 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ ai-service.ts (176 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ analytics-engine.ts (178 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ voice-handler.ts (28 —Å—Ç—Ä–æ–∫) ‚ö†Ô∏è
‚îú‚îÄ‚îÄ callbacks.ts (125 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ keyboards.ts (84 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ send-message.ts (384 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ constants.ts (37 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ commands/ (20+ –∫–æ–º–∞–Ω–¥)
‚îÇ   ‚îú‚îÄ‚îÄ start.ts
‚îÇ   ‚îú‚îÄ‚îÄ stats.ts (201 —Å—Ç—Ä–æ–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ run.ts (245 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ ask.ts (86 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ services/
    ‚îú‚îÄ‚îÄ adaptive-reminders.ts (339 —Å—Ç—Ä–æ–∫)
    ‚îú‚îÄ‚îÄ leaderboard.ts (257 —Å—Ç—Ä–æ–∫)
    ‚îî‚îÄ‚îÄ quests.ts (45 —Å—Ç—Ä–æ–∫) ‚ö†Ô∏è Mock
```

**–û–±—â–∏–π –æ–±—ä–µ–º:** ~3000+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç `getUserProgress`
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Voice Handler –∏–ª–∏ —É–±—Ä–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)

1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Quest Service
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å Redis –¥–ª—è rate limiting (multi-instance)
3. ‚úÖ –£–ª—É—á—à–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∫–æ–º–∞–Ω–¥ (–ø–æ –∑–∞–ø—Ä–æ—Å—É)
2. ‚úÖ –£–ª—É—á—à–∏—Ç—å UI/UX –æ—Ç–≤–µ—Ç–æ–≤ –±–æ—Ç–∞
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ ru/en)
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Telegram –±–æ—Ç VibeStudy –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **—Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É** —Å:

‚úÖ **–°–∏–ª—å–Ω—ã–º–∏ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏:**
- –ß–µ—Ç–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –•–æ—Ä–æ—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

‚ö†Ô∏è **–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (voice, quests)
- Rate limiting –¥–ª—è multi-instance
- –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** 8/10 - –û—Ç–ª–∏—á–Ω–∞—è –±–∞–∑–∞ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

---

*–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω: {{ date }}*
*–í–µ—Ä—Å–∏—è –±–æ—Ç–∞: 1.0.0*

