import type { Difficulty } from '@/types';

export interface DayTask {
  id: string;
  difficulty: Difficulty;
  prompt: string;
  solutionHint?: string;
}

export interface DayContentData {
  day: number;
  theory: string;
  recap: string;
  tasks: DayTask[];
}

// Полный набор контента для всех 90 дней
export const CURRICULUM_CONTENT: Record<number, DayContentData> = {
  1: {
    day: 1,
    theory: 'Сегодня мы начинаем с основ синтаксиса. Познакомимся с переменными, типами данных и базовыми операциями. Научимся выводить информацию на экран и получать ввод от пользователя. Это фундамент, на котором строится всё дальнейшее обучение.',
    recap: 'Расскажи своими словами, что такое переменная и зачем нужны типы данных.',
    tasks: [
      {
        id: 'day1-task1',
        difficulty: 'easy',
        prompt: 'Создай переменную с твоим именем и выведи приветствие на экран.',
        solutionHint: 'Используй функцию вывода и конкатенацию строк.'
      },
      {
        id: 'day1-task2',
        difficulty: 'easy',
        prompt: 'Запроси у пользователя два числа и выведи их сумму.',
        solutionHint: 'Не забудь преобразовать введённые данные в числовой тип.'
      },
      {
        id: 'day1-task3',
        difficulty: 'medium',
        prompt: 'Напиши программу, которая запрашивает имя и возраст, затем выводит сообщение: "Привет, [имя]! Через 10 лет тебе будет [возраст+10] лет."',
        solutionHint: 'Комбинируй строки и арифметические операции.'
      },
      {
        id: 'day1-task4',
        difficulty: 'medium',
        prompt: 'Создай программу-калькулятор, которая запрашивает два числа и операцию (+, -, *, /) и выводит результат.',
        solutionHint: 'Используй условные конструкции для выбора операции.'
      },
      {
        id: 'day1-task5',
        difficulty: 'hard',
        prompt: 'Напиши программу, которая конвертирует температуру из Цельсия в Фаренгейт и Кельвин. Формулы: F = C * 9/5 + 32, K = C + 273.15',
        solutionHint: 'Запроси температуру в Цельсиях и примени обе формулы.'
      }
    ]
  },
  2: {
    day: 2,
    theory: 'Углубляемся в работу с переменными и типами данных. Изучаем явное и неявное приведение типов, области видимости переменных и константы. Разбираем типичные ошибки при работе с типами.',
    recap: 'Объясни разницу между явным и неявным приведением типов.',
    tasks: [
      {
        id: 'day2-task1',
        difficulty: 'easy',
        prompt: 'Создай переменные разных типов (число, строка, булево значение) и выведи их типы.',
        solutionHint: 'Используй встроенную функцию для определения типа.'
      },
      {
        id: 'day2-task2',
        difficulty: 'easy',
        prompt: 'Преобразуй строку "123" в число и прибавь к нему 77. Выведи результат.',
        solutionHint: 'Используй функцию преобразования типов.'
      },
      {
        id: 'day2-task3',
        difficulty: 'medium',
        prompt: 'Напиши программу, которая проверяет, является ли введённая строка числом. Если да — удвой его, если нет — выведи сообщение об ошибке.',
        solutionHint: 'Используй try-catch или функцию проверки типа.'
      },
      {
        id: 'day2-task4',
        difficulty: 'hard',
        prompt: 'Создай программу, которая принимает строку с числами через запятую, преобразует их в список чисел и выводит их сумму и среднее значение.',
        solutionHint: 'Разбей строку по разделителю, преобразуй каждый элемент и посчитай статистику.'
      },
      {
        id: 'day2-task5',
        difficulty: 'challenge',
        prompt: 'Реализуй функцию, которая принимает любое значение и возвращает его строковое представление в читаемом формате с указанием исходного типа.',
        solutionHint: 'Определи тип, затем форматируй вывод в виде "Тип: [тип], Значение: [значение]".'
      }
    ]
  }
};

// Генерируем заглушки для дней 3-90
for (let day = 3; day <= 90; day++) {
  CURRICULUM_CONTENT[day] = {
    day,
    theory: `День ${day}: Продолжаем изучение программирования. Сегодня фокусируемся на практических навыках и закрепляем пройденный материал через решение задач возрастающей сложности.`,
    recap: `Вспомни ключевые концепции из дня ${day - 1} и подготовься применить их на практике.`,
    tasks: [
      {
        id: `day${day}-task1`,
        difficulty: 'easy',
        prompt: `Базовая задача дня ${day}: напиши простую программу, демонстрирующую понимание текущей темы.`,
        solutionHint: 'Начни с простейшей реализации и постепенно улучшай код.'
      },
      {
        id: `day${day}-task2`,
        difficulty: 'easy',
        prompt: `Задача на закрепление: примени изученные концепции к новой ситуации.`,
        solutionHint: 'Вспомни примеры из теории и адаптируй их.'
      },
      {
        id: `day${day}-task3`,
        difficulty: 'medium',
        prompt: `Комбинированная задача: объедини несколько концепций для решения практической проблемы.`,
        solutionHint: 'Разбей задачу на подзадачи и решай последовательно.'
      },
      {
        id: `day${day}-task4`,
        difficulty: 'hard',
        prompt: `Задача повышенной сложности: реализуй более сложный алгоритм с учётом граничных случаев.`,
        solutionHint: 'Подумай об оптимизации и обработке ошибок.'
      },
      {
        id: `day${day}-task5`,
        difficulty: 'challenge',
        prompt: `Челлендж дня ${day}: создай законченное мини-приложение, демонстрирующее мастерство.`,
        solutionHint: 'Используй всё изученное ранее и добавь собственные идеи.'
      }
    ]
  };
}

export const getDayContent = (day: number): DayContentData => {
  return CURRICULUM_CONTENT[day] ?? CURRICULUM_CONTENT[1];
};

