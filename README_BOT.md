# ğŸ¤– VibeStudy Telegram Bot

Ğ£Ğ¼Ğ½Ñ‹Ğ¹ Telegram Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ VibeStudy.

---

## âœ¨ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### ğŸ¯ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
- **Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ°** Ñ ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ¾Ğ¹ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹
- **Ğ£Ğ¼Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ** Ñ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½ĞµĞ¼
- **Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ´Ğ°** Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² Telegram (7 ÑĞ·Ñ‹ĞºĞ¾Ğ²!)
- **AI Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº** Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ² Ğ½Ğ° Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹
- **Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ Ñ‡ĞµĞ»Ğ»ĞµĞ½Ğ´Ğ¶Ğ¸**
- **ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ ÑĞµÑ€Ğ¸Ğ¸** (streak protection)
- **Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°** Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ

### ğŸ”¥ ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğµ Ñ„Ğ¸Ñ‡Ğ¸
- ğŸ¤– ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸
- ğŸ˜´ Do-Not-Disturb Ñ€ĞµĞ¶Ğ¸Ğ¼
- ğŸ“Š ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ· Ğ´Ğ°Ñ‚Ñ‹ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ ĞºÑƒÑ€ÑĞ°
- ğŸ’» Code Runner Ğ´Ğ»Ñ 7 ÑĞ·Ñ‹ĞºĞ¾Ğ²
- ğŸ® Gamification (Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ, XP, Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ¸)


---

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹ Ğ±Ğ¾Ñ‚Ğ°: [@Ğ’Ğ°ÑˆĞ‘Ğ¾Ñ‚](https://t.me/Ğ²Ğ°Ñˆ_Ğ±Ğ¾Ñ‚)
2. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒ `/start`
3. Ğ¡Ğ»ĞµĞ´ÑƒĞ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸ÑĞ¼!

### Ğ”Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²

**Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: Vercel (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)**

5-Ğ¼Ğ¸Ğ½ÑƒÑ‚Ğ½Ğ°Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°:

```bash
# 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ±Ğ¾Ñ‚Ğ° Ñ‡ĞµÑ€ĞµĞ· @BotFather Ğ² Telegram

# 2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ² Vercel:
#    TELEGRAM_BOT_TOKEN=...
#    TELEGRAM_WEBHOOK_SECRET=...

# 3. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºÑƒ:
npm run bot:webhook

# Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! âœ…
```

**Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ**: `QUICK_START_BOT.md`

**Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: VPS (ÑĞ²Ğ¾Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€)**

Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ±Ğ¾Ñ‚ Ğ½Ğ° VPS, ÑĞ°Ğ¹Ñ‚ Ğ½Ğ° Vercel:

```bash
# ĞĞ° VPS ÑĞµÑ€Ğ²ĞµÑ€Ğµ:
git clone https://github.com/Ñ‚Ğ²Ğ¾Ğ¹-username/VibeStudy.git
cd VibeStudy
./scripts/vps-setup-bot.sh

# Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! âœ…
```

**Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ**: `VPS_BOT_ONLY_GUIDE.md`

---

## ğŸ“± ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ±Ğ¾Ñ‚Ğ°

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ
- `/start` - ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ğ¸ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
- `/help` - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´
- `/menu` - Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ
- `/stats` - ğŸ“Š Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
- `/progress` - ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ Ğ¿Ğ¾ Ğ´Ğ½ÑĞ¼

### ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ
- `/ask [Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ]` - Ğ¡Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ AI
- `/hint [task_id]` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºÑƒ
- `/advice` - ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¾Ğ²ĞµÑ‚
- `/run [ĞºĞ¾Ğ´]` - ğŸ’» Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ´
- `/challenge` - Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ·Ğ¾Ğ²

### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
- `/remind` - â° Ğ£Ğ¼Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ
- `/settings` - ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ±Ğ¾Ñ‚Ğ°
- `/language` - Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑĞ·Ñ‹Ğº (ru/en)
- `/privacy` - ĞŸÑ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ GDPR

---

## ğŸ› ï¸ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

- **Framework**: Next.js 14 API Routes
- **Database**: Supabase (PostgreSQL)
- **Hosting**: Vercel (Serverless)
- **Bot API**: node-telegram-bot-api
- **AI**: GPT Lama API
- **Code Execution**: /api/execute-code

---

## ğŸ“š Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

### Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹

| Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|----------|
| `QUICK_START_BOT.md` | âš¡ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚ Ğ½Ğ° Vercel (5 Ğ¼Ğ¸Ğ½ÑƒÑ‚) |
| `VERCEL_BOT_SETUP.md` | ğŸ“– ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Vercel |
| `VPS_BOT_ONLY_GUIDE.md` | ğŸ–¥ï¸ Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ±Ğ¾Ñ‚Ğ° Ğ½Ğ° VPS |
| `VPS_DEPLOYMENT_GUIDE.md` | ğŸš€ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ½Ğ° VPS (ÑĞ°Ğ¹Ñ‚ + Ğ±Ğ¾Ñ‚) |
| `VPS_QUICK_COMMANDS.md` | âš¡ Ğ¨Ğ¿Ğ°Ñ€Ğ³Ğ°Ğ»ĞºĞ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ Ğ´Ğ»Ñ VPS |

### Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

| Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|----------|
| `TELEGRAM_BOT_IMPROVEMENTS.md` | ğŸ“‹ Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğ¹ |
| `SECURITY_NOTICE.md` | ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ |
| `src/lib/telegram/commands/README.md` | ğŸ’» Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ |

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Telegram Bot API            â”‚
â”‚     (Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTPS POST
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vercel Serverless Function         â”‚
â”‚  /api/telegram/webhook              â”‚
â”‚                                     â”‚
â”‚  â”œâ”€ Rate Limiting (60/min/user)    â”‚
â”‚  â”œâ”€ Input Sanitization             â”‚
â”‚  â”œâ”€ Webhook Verification           â”‚
â”‚  â””â”€ Metrics Tracking               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Bot Controller                 â”‚
â”‚  src/lib/telegram/bot-controller.ts â”‚
â”‚                                     â”‚
â”‚  â”œâ”€ Command Router                 â”‚
â”‚  â”œâ”€ Callback Handler               â”‚
â”‚  â””â”€ Context Manager                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Commands   â”‚  â”‚  Services   â”‚
â”‚             â”‚  â”‚             â”‚
â”‚ /start      â”‚  â”‚ Reminders   â”‚
â”‚ /stats      â”‚  â”‚ Analytics   â”‚
â”‚ /run        â”‚  â”‚ AI Client   â”‚
â”‚ /ask        â”‚  â”‚ Code Runner â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Supabase    â”‚
        â”‚   Database    â”‚
        â”‚               â”‚
        â”‚ â€¢ Profiles    â”‚
        â”‚ â€¢ Messages    â”‚
        â”‚ â€¢ Analytics   â”‚
        â”‚ â€¢ Reminders   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾
- âœ… Webhook secret verification
- âœ… Rate limiting (60 req/min/user)
- âœ… Input sanitization (XSS protection)
- âœ… Supabase RLS policies
- âœ… Env variables Ğ´Ğ»Ñ ÑĞµĞºÑ€ĞµÑ‚Ğ¾Ğ²
- âœ… Health monitoring

### ğŸ“ Best Practices
- ğŸ”’ Ğ¢Ğ¾ĞºĞµĞ½Ñ‹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
- ğŸ”„ Ğ ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ°Ñ Ñ€Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ ÑĞµĞºÑ€ĞµÑ‚Ğ¾Ğ²
- ğŸ“Š ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ñ‡ĞµÑ€ĞµĞ· `/api/telegram/health`
- ğŸ›¡ï¸ Ğ Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ´Ğ»Ñ dev/prod

---

## ğŸ“Š ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

### Health Endpoint

```bash
GET https://Ğ²Ğ°Ñˆ-Ğ´Ğ¾Ğ¼ĞµĞ½.vercel.app/api/telegram/health
```

**ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸:**
- â±ï¸ Uptime
- ğŸ“¨ Total updates processed
- âœ… Success rate
- âŒ Error types
- ğŸ“Š Popular commands
- ğŸš« Rate limited requests

### ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸

```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ webhook
npm run bot:webhook:check

# Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ±Ğ¾Ñ‚Ğµ
npm run bot:webhook:info

# ĞŸĞµÑ€ĞµÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ webhook
npm run bot:webhook
```

---

## ğŸ¨ ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²ÑƒÑ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ

1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ñ„Ğ°Ğ¹Ğ» `src/lib/telegram/commands/your-command.ts`:

```typescript
import type { BotResponse } from '@/types/telegram';

export async function handleYourCommand(
  userId: string,
  telegramUserId: number,
  chatId: number,
  args: string[]
): Promise<BotResponse> {
  return {
    text: 'âœ… Ğ¢Ğ²Ğ¾Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ°!',
    parseMode: 'Markdown'
  };
}
```

2. Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞ¹ Ğ² `src/lib/telegram/commands/index.ts`:

```typescript
import { handleYourCommand } from './your-command';

export const commandHandlers = {
  // ...
  '/your-command': handleYourCommand,
};
```

3. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ½Ğ° Vercel â€” Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! ğŸš€

---

## ğŸ’° Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ (Vercel)

**Free Plan:**
- âœ… 100 GB bandwidth/Ğ¼ĞµÑÑÑ†
- âœ… 100,000 serverless invocations/Ğ´ĞµĞ½ÑŒ
- âœ… Ğ”Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ ~1,000 Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

**Pro Plan ($20/Ğ¼ĞµÑ):**
- âœ… 1 TB bandwidth
- âœ… Unlimited invocations
- âœ… Ğ”Ğ»Ñ 10,000+ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

---

## ğŸ› Troubleshooting

### Ğ‘Ğ¾Ñ‚ Ğ½Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ñ‹:**
1. Webhook Ğ½Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½
2. ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ env Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ
3. ĞÑˆĞ¸Ğ±ĞºĞ¸ Ğ² ĞºĞ¾Ğ´Ğµ

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
```bash
# 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ webhook
npm run bot:webhook:check

# 2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ health
curl https://Ñ‚Ğ²Ğ¾Ğ¹-Ğ´Ğ¾Ğ¼ĞµĞ½.vercel.app/api/telegram/health

# 3. ĞŸĞµÑ€ĞµÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸ webhook
npm run bot:webhook

# 4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ»Ğ¾Ğ³Ğ¸ Ğ² Vercel Dashboard
```

### Webhook Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸

ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ² Vercel Dashboard â†’ Functions â†’ Logs:
- ĞÑˆĞ¸Ğ±ĞºĞ¸ 401 â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ TELEGRAM_WEBHOOK_SECRET
- ĞÑˆĞ¸Ğ±ĞºĞ¸ 500 â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ ĞºĞ¾Ğ´ Ğ¸ Supabase Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ
- Timeout â†’ ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€ÑƒĞ¹ Ğ´Ğ¾Ğ»Ğ³Ğ¸Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸

ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº: `VERCEL_BOT_SETUP.md` â†’ Troubleshooting

---

## ğŸ¤ Contributing

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
src/
â”œâ”€â”€ app/api/telegram/
â”‚   â”œâ”€â”€ webhook/route.ts       # Webhook endpoint
â”‚   â””â”€â”€ health/route.ts        # Health monitoring
â”œâ”€â”€ lib/telegram/
â”‚   â”œâ”€â”€ bot-controller.ts      # Main controller
â”‚   â”œâ”€â”€ database.ts            # DB operations
â”‚   â”œâ”€â”€ commands/              # Command handlers
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ start.ts
â”‚   â”‚   â”œâ”€â”€ stats.ts
â”‚   â”‚   â”œâ”€â”€ run.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ services/              # Business logic
â”‚   â”‚   â”œâ”€â”€ adaptive-reminders.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ keyboards.ts           # Inline keyboards
â””â”€â”€ types/telegram.ts          # TypeScript types
```

### Development

```bash
# Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° (polling)
npm run bot

# ĞŸÑ€Ğ¾Ğ´Ğ°ĞºÑˆĞ½ (webhook)
npm run bot:webhook
```

---

## ğŸ“ˆ Roadmap

### âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾
- [x] Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
- [x] Webhook Ğ½Ğ° Vercel
- [x] Ğ£Ğ¼Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ
- [x] Code execution
- [x] Health monitoring
- [x] Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°

### ğŸ”„ Ğ’ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ
- [ ] Voice messages (Whisper API)
- [ ] Inline mode
- [ ] Group support
- [ ] Analytics dashboard

### ğŸ’¡ ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ
- [ ] Gamification features
- [ ] Peer review Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°Ñ…
- [ ] Study groups
- [ ] Achievements notifications

---

## ğŸ“ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

- ğŸ“– **Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ**: ÑĞ¼. Ñ„Ğ°Ğ¹Ğ»Ñ‹ `*_BOT_*.md`
- ğŸ› **Issues**: GitHub Issues
- ğŸ’¬ **Telegram**: @Ğ²Ğ°Ñˆ_support_Ğ±Ğ¾Ñ‚

---

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT License - ÑĞ¼. LICENSE Ñ„Ğ°Ğ¹Ğ»

---

## ğŸ‘ Ğ‘Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ğ¾ÑÑ‚Ğ¸

- [node-telegram-bot-api](https://github.com/yagop/node-telegram-bot-api)
- [Vercel](https://vercel.com) Ğ·Ğ° serverless hosting
- [Supabase](https://supabase.com) Ğ·Ğ° Ğ‘Ğ”
- Ğ’ÑĞµĞ¼ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¸Ğ±ÑŒÑÑ‚Ğ¾Ñ€Ğ°Ğ¼! â¤ï¸

---

**Ğ¡Ğ´ĞµĞ»Ğ°Ğ½Ğ¾ Ñ â¤ï¸ Ğ´Ğ»Ñ VibeStudy**

ğŸš€ **ĞĞ°Ñ‡Ğ½Ğ¸ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² Telegram!**
