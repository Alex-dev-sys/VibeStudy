# ü§ñ –î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ Telegram –±–æ—Ç–∞ –Ω–∞ VPS

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ **—Ç–æ–ª—å–∫–æ –±–æ—Ç–∞** –Ω–∞ VPS, –ø–æ–∫–∞ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Vercel.

---

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                ‚îÇ
       ‚ñº                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Vercel    ‚îÇ  ‚îÇ  Telegram   ‚îÇ
‚îÇ   (–°–∞–π—Ç)    ‚îÇ  ‚îÇ   (–ë–æ—Ç API) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                ‚îÇ
       ‚îÇ     polling    ‚îÇ
       ‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ         ‚ñº
       ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ  ‚îÇ  VPS Server  ‚îÇ
       ‚îÇ  ‚îÇ  (–ë–æ—Ç —Ç–æ–ª—å–∫–æ)‚îÇ
       ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ         ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                           ‚ñº
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ   Supabase    ‚îÇ
                   ‚îÇ   (–û–±—â–∞—è –ë–î)  ‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–æ—Ç –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–∞–ª–æ RAM (~80-150MB)
- ‚úÖ Polling —Ä–µ–∂–∏–º (–Ω–µ –Ω—É–∂–µ–Ω webhook)
- ‚úÖ –°–∞–π—Ç –±—ã—Å—Ç—Ä—ã–π –Ω–∞ Vercel
- ‚úÖ –û–±—â–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Supabase

---

## üìã –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS

### 1.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ VPS –ø–æ SSH
ssh root@—Ç–≤–æ–π-vps-ip

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo apt update && sudo apt upgrade -y
```

### 1.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20.x

```bash
# –î–æ–±–∞–≤—å NodeSource —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
sudo apt install -y nodejs

# –ü—Ä–æ–≤–µ—Ä–∫–∞
node --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x
npm --version
```

### 1.3 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2

```bash
# –ì–ª–æ–±–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
sudo npm install -g pm2

# –ü—Ä–æ–≤–µ—Ä–∫–∞
pm2 --version
```

### 1.4 –°–æ–∑–¥–∞–π swap (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)

```bash
# –°–æ–∑–¥–∞–π 2GB swap —Ñ–∞–π–ª
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ swappiness
sudo sysctl vm.swappiness=10
echo 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf

# –ü—Ä–æ–≤–µ—Ä–∫–∞
free -h
```

---

## üì¶ –®–∞–≥ 2: –î–µ–ø–ª–æ–π –±–æ—Ç–∞

### 2.1 –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü–µ—Ä–µ–π–¥–∏ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~

# –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/—Ç–≤–æ–π-username/VibeStudy.git
cd VibeStudy

# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install --production
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§–ª–∞–≥ `--production` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ç–æ–ª—å–∫–æ production –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞).

### 2.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–π .env.local —Ñ–∞–π–ª
nano .env.local
```

**–î–æ–±–∞–≤—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

```bash
# Telegram Bot
TELEGRAM_BOT_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather

# Supabase (—Ç–µ –∂–µ —á—Ç–æ –Ω–∞ Vercel!)
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=—Ç–≤–æ–π_anon_key
SUPABASE_SERVICE_ROLE_KEY=—Ç–≤–æ–π_service_key

# AI API (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å /ask –∫–æ–º–∞–Ω–¥—É)
AI_API_TOKEN=—Ç–≤–æ–π_ai_—Ç–æ–∫–µ–Ω

# URL —Å–∞–π—Ç–∞ –Ω–∞ Vercel (–¥–ª—è —Å—Å—ã–ª–æ–∫ –≤ –±–æ—Ç–µ)
NEXT_PUBLIC_SITE_URL=https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.vercel.app

# Node –æ–∫—Ä—É–∂–µ–Ω–∏–µ
NODE_ENV=production
```

**–°–æ—Ö—Ä–∞–Ω–∏:** `Ctrl+O`, `Enter`, `Ctrl+X`

**–í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–π **—Ç–µ –∂–µ —Å–∞–º—ã–µ** Supabase –∫–ª—é—á–∏ —á—Ç–æ –∏ –Ω–∞ Vercel!

---

## üöÄ –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å PM2

### 3.1 –°–æ–∑–¥–∞–π PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
nano ecosystem.bot-only.config.js
```

**–î–æ–±–∞–≤—å:**

```javascript
module.exports = {
  apps: [{
    name: 'vibestudy-bot',
    script: 'scripts/telegram-bot-local.js',
    instances: 1,
    exec_mode: 'fork',
    max_memory_restart: '200M',
    node_args: '--max-old-space-size=256',
    env: {
      NODE_ENV: 'production'
    },
    error_file: './logs/bot-error.log',
    out_file: './logs/bot-out.log',
    log_date_format: 'YYYY-MM-DD HH:mm:ss',
    merge_logs: true,
    autorestart: true,
    watch: false,
    max_restarts: 10,
    min_uptime: '10s'
  }]
};
```

**–°–æ—Ö—Ä–∞–Ω–∏:** `Ctrl+O`, `Enter`, `Ctrl+X`

### 3.2 –°–æ–∑–¥–∞–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤

```bash
mkdir -p logs
```

### 3.3 –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞

```bash
# –ó–∞–≥—Ä—É–∑–∏ .env.local –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∑–∞–ø—É—Å—Ç–∏
pm2 start ecosystem.bot-only.config.js

# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
pm2 status

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
# ‚îÇ id  ‚îÇ name            ‚îÇ mode    ‚îÇ status ‚îÇ
# ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
# ‚îÇ 0   ‚îÇ vibestudy-bot   ‚îÇ fork    ‚îÇ online ‚îÇ
# ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3.4 –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –±–æ—Ç–∞
pm2 logs vibestudy-bot

# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
# ‚úÖ Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ —Ä–µ–∂–∏–º–µ polling!
# ü§ñ Username: @–¢–≤–æ–π–ë–æ—Ç
# üî• –ì–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è...
```

### 3.5 –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

```bash
# –°–æ—Ö—Ä–∞–Ω–∏ —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ PM2 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 save

# –°–æ–∑–¥–∞–π systemd —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
pm2 startup

# PM2 –ø–æ–∫–∞–∂–µ—Ç –∫–æ–º–∞–Ω–¥—É, –≤—ã–ø–æ–ª–Ω–∏ –µ—ë (—á—Ç–æ-—Ç–æ —Ç–∏–ø–∞):
# sudo env PATH=$PATH:/usr/bin pm2 startup systemd -u —Ç–≤–æ–π_user --hp /home/—Ç–≤–æ–π_user
```

**–¢–µ–ø–µ—Ä—å –±–æ—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞!**

---

## ‚úÖ –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 4.1 –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å PM2

```bash
pm2 status
pm2 monit  # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–≤—ã—Ö–æ–¥: Ctrl+C)
```

### 4.2 –¢–µ—Å—Ç –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π –±–æ—Ç–∞: `https://t.me/—Ç–≤–æ–π_–±–æ—Ç`
2. –û—Ç–ø—Ä–∞–≤—å `/start`
3. –ü–æ–ø—Ä–æ–±—É–π –∫–æ–º–∞–Ω–¥—ã:
   - `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - `/help` - –ø–æ–º–æ—â—å
   - `/ask –ß—Ç–æ —Ç–∞–∫–æ–µ JavaScript?`

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤—Å—ë –æ—Ç–ª–∏—á–Ω–æ!** üéâ

### 4.3 –ü—Ä–æ–≤–µ—Ä—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM/CPU
htop  # (–∏–ª–∏: top)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PM2 –ø—Ä–æ—Ü–µ—Å—Å–æ–º
pm2 monit

# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ:
# vibestudy-bot: 80-150MB RAM, 1-5% CPU
```

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã PM2

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs vibestudy-bot

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
pm2 logs vibestudy-bot --lines 100

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
pm2 restart vibestudy-bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
pm2 stop vibestudy-bot

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
pm2 start vibestudy-bot

# –£–¥–∞–ª–∏—Ç—å –∏–∑ PM2
pm2 delete vibestudy-bot

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (CPU/RAM –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
pm2 monit
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞

–ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–∏–ª –∫–æ–¥ –Ω–∞ GitHub:

```bash
# –°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
nano ~/update-bot.sh
```

**–î–æ–±–∞–≤—å:**

```bash
#!/bin/bash
cd ~/VibeStudy

echo "üì• –°–∫–∞—á–∏–≤–∞—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è..."
git pull origin main

echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
npm install --production

echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é –±–æ—Ç–∞..."
pm2 restart vibestudy-bot

echo "‚úÖ –ë–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω!"
pm2 logs vibestudy-bot --lines 20
```

**–°–¥–µ–ª–∞–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**

```bash
chmod +x ~/update-bot.sh
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É:**

```bash
~/update-bot.sh
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 1. Firewall (UFW)

```bash
# –í–∫–ª—é—á–∏ firewall
sudo ufw allow OpenSSH
sudo ufw enable

# –ï—Å–ª–∏ –Ω—É–∂–µ–Ω HTTP/HTTPS –¥–ª—è —á–µ–≥–æ-—Ç–æ –µ—â–µ:
# sudo ufw allow 80/tcp
# sudo ufw allow 443/tcp

# –ü—Ä–æ–≤–µ—Ä–∫–∞
sudo ufw status
```

### 2. –ó–∞—â–∏—Ç–∞ .env.local

```bash
# –£–±–µ–¥–∏—Å—å —á—Ç–æ .env.local –Ω–µ –≤ git
echo ".env.local" >> .gitignore

# –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
chmod 600 .env.local
```

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ SSH

```bash
# –ò–∑–º–µ–Ω–∏ SSH –ø–æ—Ä—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo nano /etc/ssh/sshd_config

# –ù–∞–π–¥–∏: #Port 22
# –ò–∑–º–µ–Ω–∏ –Ω–∞: Port 2222 (–ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç)

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ SSH
sudo systemctl restart sshd

# –ù–µ –∑–∞–±—É–¥—å —Ä–∞–∑—Ä–µ—à–∏—Ç—å –Ω–æ–≤—ã–π –ø–æ—Ä—Ç –≤ UFW:
# sudo ufw allow 2222/tcp
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –±–æ—Ç–∞

```bash
# –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
nano ~/check-bot.sh
```

**–î–æ–±–∞–≤—å:**

```bash
#!/bin/bash
echo "ü§ñ –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞:"
pm2 status vibestudy-bot

echo ""
echo "üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:"
free -h

echo ""
echo "üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:"
df -h /

echo ""
echo "üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤:"
pm2 logs vibestudy-bot --lines 10 --nostream
```

```bash
chmod +x ~/check-bot.sh

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏
~/check-bot.sh
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∫—Ä–∞—à–µ

PM2 —É–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏ –∫—Ä–∞—à–∞—Ö, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ pm2-discord (–µ—Å–ª–∏ –µ—Å—Ç—å Discord webhook)
pm2 install pm2-discord

# –ù–∞—Å—Ç—Ä–æ–π webhook
pm2 set pm2-discord:discord_url https://discord.com/api/webhooks/—Ç–≤–æ–π_webhook
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:**
```bash
pm2 logs vibestudy-bot --lines 50
```

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **–û—à–∏–±–∫–∞: "TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω"**
   - –ü—Ä–æ–≤–µ—Ä—å `.env.local` —Ñ–∞–π–ª
   - –£–±–µ–¥–∏—Å—å —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

2. **–û—à–∏–±–∫–∞: "Cannot find module"**
   - –ó–∞–ø—É—Å—Ç–∏: `npm install --production`

3. **–û—à–∏–±–∫–∞: "ECONNREFUSED Supabase"**
   - –ü—Ä–æ–≤–µ—Ä—å `NEXT_PUBLIC_SUPABASE_URL` –≤ `.env.local`
   - –£–±–µ–¥–∏—Å—å —á—Ç–æ Supabase –¥–æ—Å—Ç—É–ø–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –∫—Ä–∞—à–∏—Ç—Å—è

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ error –ª–æ–≥–∏
cat logs/bot-error.log

# –£–≤–µ–ª–∏—á—å –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –≤ ecosystem.bot-only.config.js:
max_memory_restart: '300M',  # –ë—ã–ª–æ 200M

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏
pm2 restart vibestudy-bot
```

### –ü—Ä–æ–±–ª–µ–º–∞: –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM

```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
htop

# –ï—Å–ª–∏ —Ç–æ—Ä—Ä–µ–Ω—Ç/VPN —Å—ä–µ–¥–∞—é—Ç –º–Ω–æ–≥–æ:
# - –û–≥—Ä–∞–Ω–∏—á—å —Ç–æ—Ä—Ä–µ–Ω—Ç –∫–ª–∏–µ–Ω—Ç –¥–æ 100-150MB
# - –ü—Ä–æ–≤–µ—Ä—å –Ω–µ—Ç –ª–∏ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π –ø–∞–º—è—Ç–∏
pm2 restart vibestudy-bot
```

### –ü—Ä–æ–±–ª–µ–º–∞: "webhook is active" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

–ï—Å–ª–∏ —Ä–∞–Ω—å—à–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–ª webhook, —É–¥–∞–ª–∏ –µ–≥–æ:

```bash
# –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç —É–¥–∞–ª–µ–Ω–∏—è
node scripts/setup-telegram-webhook.js delete

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ curl:
curl -X POST "https://api.telegram.org/bot<–¢–í–û–ô_–¢–û–ö–ï–ù>/deleteWebhook"
```

---

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –û–≥—Ä–∞–Ω–∏—á—å —Ç–æ—Ä—Ä–µ–Ω—Ç –∫–ª–∏–µ–Ω—Ç

**qBittorrent:**
- Settings ‚Üí Advanced ‚Üí Memory usage limit: `150 MB`

**Transmission:**
```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π settings.json (–∫–æ–≥–¥–∞ Transmission –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
nano ~/.config/transmission/settings.json

# –ù–∞–π–¥–∏ –∏ –∏–∑–º–µ–Ω–∏:
"cache-size-mb": 4,  # –í–º–µ—Å—Ç–æ 16
"peer-limit-global": 100,  # –í–º–µ—Å—Ç–æ 200
```

### 2. –ù–∞—Å—Ç—Ä–æ–π Node.js –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏

–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `ecosystem.bot-only.config.js`:
```javascript
node_args: '--max-old-space-size=256',  // –õ–∏–º–∏—Ç 256MB –¥–ª—è Node.js
max_memory_restart: '200M',              // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ 200MB
```

### 3. –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤

```bash
# –°–æ–∑–¥–∞–π cron job –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
crontab -e

# –î–æ–±–∞–≤—å (–æ—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é):
0 0 * * 0 find ~/VibeStudy/logs -name "*.log" -mtime +7 -delete
```

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–¢–≤–æ–π VPS (1GB RAM):
‚îú‚îÄ VPN —Å–µ—Ä–≤–µ—Ä: ~50-100MB
‚îú‚îÄ –¢–æ—Ä—Ä–µ–Ω—Ç: ~100-150MB (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω)
‚îú‚îÄ –°–∏—Å—Ç–µ–º–∞: ~100-150MB
‚îú‚îÄ VibeStudy Bot (PM2): ~80-150MB
‚îî‚îÄ Swap: 2GB (—Ä–µ–∑–µ—Ä–≤)

Total: ~400-550MB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
Free: ~400-600MB —Å–≤–æ–±–æ–¥–Ω–æ ‚úÖ
```

```
Vercel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):
‚îú‚îÄ Next.js —Å–∞–π—Ç (serverless)
‚îú‚îÄ –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îî‚îÄ CDN –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
```

```
Supabase (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):
‚îú‚îÄ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ Row-Level Security
‚îî‚îÄ –û–±—â–∏–π –¥–æ—Å—Ç—É–ø –¥–ª—è Vercel + VPS –±–æ—Ç–∞
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] Node.js 20.x —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] 2GB swap —Å–æ–∑–¥–∞–Ω
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –≤ `~/VibeStudy`
- [ ] `.env.local` –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
- [ ] `ecosystem.bot-only.config.js` —Å–æ–∑–¥–∞–Ω
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2
- [ ] PM2 –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`pm2 startup` + `pm2 save`)
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
- [ ] UFW firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –¢–æ—Ä—Ä–µ–Ω—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ –ø–∞–º—è—Ç–∏
- [ ] –°–∫—Ä–∏–ø—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è:
- ‚úÖ **–°–∞–π—Ç –Ω–∞ Vercel** - –±—ã—Å—Ç—Ä—ã–π, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π
- ‚úÖ **–ë–æ—Ç –Ω–∞ VPS** - —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –≤ polling —Ä–µ–∂–∏–º–µ
- ‚úÖ **–û–±—â–∞—è –ë–î Supabase** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **~80-150MB RAM** –¥–ª—è –±–æ—Ç–∞ - –æ—Å—Ç–∞–µ—Ç—Å—è –º–µ—Å—Ç–æ –¥–ª—è VPN/—Ç–æ—Ä—Ä–µ–Ω—Ç–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ–≥–æ
pm2 status && free -h

# –û–±–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
~/update-bot.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ
~/check-bot.sh

# –õ–æ–≥–∏
pm2 logs vibestudy-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart vibestudy-bot
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `VERCEL_BOT_SETUP.md` - –ï—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –Ω–∞ webhook
- `QUICK_START_BOT.md` - –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Vercel
- `README_BOT.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±–æ—Ç–∞
- `VPS_DEPLOYMENT_GUIDE.md` - –ï—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å –ø–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ VPS

---

**–£—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ**

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã - –ø—Ä–æ–≤–µ—Ä—å —Å–µ–∫—Ü–∏—é Troubleshooting –∏–ª–∏ –ª–æ–≥–∏ PM2.
